<include file="Public:header"/>
{$page = 'permission'}
<include file="Public:menu"/>
<style type="text/css">
    .error{
        color: red;
    }
</style>
<div class="content-wrapper">
    <!--引入表单验证-->
    <script src="http://static.runoob.com/assets/jquery-validation-1.14.0/dist/jquery.validate.min.js"></script>
    <include file="Public:breadcrumb"/>
    <!-- 主体内容 -->
    <!-- 主体内容 -->
    <section class="content">
        <div class="row">

            <!-- left column -->
            <div class="col-md-8">
                <!-- general form elements -->
                <div class="box box-solid">

                    <!-- form start -->
                    <form role="form" id="Myform" action="{:U('Role/insert_per')}" method="post">
                        <div class="box-body padding20">
                            <div class="form-group">
                                <label for="">角色名称<span class="required">*</span></label>
                                <div>
                                    <input type="text" name="user" placeholder="输入角色名称..." id="" class="form-control wp50 inline-block"  >
                                </div>
                            </div>

                            <div class="form-group">
                                <label for="">状态</label>
                                <div>
                                    <div class="radio inline-block margin0">
                                        <label>
                                            <input type="radio" checked="" value="1" id="" name="optionsRadios">启用
                                        </label>
                                    </div>
                                    <div class="radio inline-block margin0">
                                        <label>
                                            <input type="radio" value="0" id="" name="optionsRadios">禁用
                                        </label>
                                    </div>
                                </div>
                            </div>

                            <div class="form-group">
                                <label for="">角色描述</label>
                                <textarea name="content" placeholder="输入角色描述..." id="" class="form-control"></textarea>
                            </div>

                                <div class="box-body padding20">
                                    <label for="">权限设置</label>
                                    <table id="mytable" class="treetable table table-hover">

                                        <?php foreach($data as $key=>$val ){
                                        ?>
                                        <tr data-tt-id="{$key+1}" >
                                            <td><label><input name="qx[]" value="{$data1[$key]}" type="checkbox">&nbsp;{$val}</label></td>
                                        </tr>
                                        <?php }
                            ?>

                                    </table>
                                    <div>
                                    </div><!-- /.box-body -->


                        </div><!-- /.box-body -->

                        <div class="box-footer p20 ">
                            <button class="btn btn-primary w100" type="submit">保存</button>
                            <a onclick="history.go('-1')" class="btn btn-info w100 ml20" type="submit">返回</a>
                        </div>
                    </form>
                </div><!-- /.box -->
            </div>
        </div>
    </section><!-- /.content -->
    <!-- /.content  -->
</div>
<script type="text/javascript">
    $('#Myform').validate({
        rules: {
            user: {
                required: true,
                rangelength:[3,7],
            },
        },
        messages: {
            user:{
                required:'角色不能为空!',
                rangelength:'角色在3~7个字符之间',
            },
        },
        focusInvalid:true,
    });
</script>
<include file="Public:footer"/>